<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Modules Classes Cache Cache inMemoryCache memcachedCache redisCache OpenSTCacheKeys × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Classes Classes Cache Cache inMemoryCache memcachedCache redisCache OpenSTCacheKeys × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys OpenST Cache OpenST Cache is the central cache implementation for all OpenST products and can easily be plugged-in. It contains three caching engines. The decision of which caching engine to use is governed while creating the cache object. The caching engines implemented are: Memcached Redis In-process (use with single threaded process in development mode only) Contructor parameters:There are 2 parameters required while creating the cache implementer. First parameter is mandatory and it specifies the cache engine to be used. The values can be 'none', 'memcached' or 'redis' Second parameter is optional and specifies the behaviour consistency of the cache accross all cache engines. Few implementation differ in redis and memcached, for example the behaviour of increment and decrement when initial value is not set for a key. So if the system is designed considering one cache engine and later when the cache engine is changed then the system may break. To avoid such cases this parameter tell the implementer wheather behaviour of the cache engine be should be consistent or not. Below are the examples: // import the cache module const openSTCache = require('@openstfoundation/openst-cache');//redis engine const cacheImplementer = new openSTCache.cache('redis', false);//memcached engine const cacheImplementer = new openSTCache.cache('memcached', true);//In-process engine const cacheImplementer = new openSTCache.cache('none', false);Install OpenST Cachenpm install @openstfoundation/openst-cache --saveSet ENV VariablesDefine the default TTL:export OST_DEFAULT_TTL=3600 # In secondsIf the cache engine is redis, set the following ENV variables:export OST_REDIS_HOST='127.0.0.1' export OST_REDIS_PORT=6379 export OST_REDIS_PASS=st123 # Redis authentication password defined as &quot;requirepass&quot; export OST_REDIS_TLS_ENABLED=0 # Possible values are 1 and 0If the cache engine is memcached, set the following ENV variable:export OST_MEMCACHE_SERVERS='127.0.0.1:11211' # comma seperated memcached instances eg: '127.0.0.1:11211, 192.168.1.101:11211'Examples:Create OpenST Cache Object:const openSTCache = require('@openstfoundation/openst-cache'); const cacheImplementer = new openSTCache.cache('redis', false);Store and retrieve data in cache using set and get:cacheImplementer.set('testKey', 'testValue', 5000).then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } }); cacheImplementer.get('testKey').then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } });Manage objects in cache using setObject and getObject:cacheImplementer.setObject('testObjKey', {dataK1: 'a', dataK2: 'b'}).then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } }); cacheImplementer.getObject('testObjKey').then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } });Retrieve multiple cache data using multiGet:* NOTE: Redis returns null from multiGet for objects, even if a value is set in the cache; the other caching engines match this behaviour.cacheImplementer.set('testKeyOne', 'One').then(console.log); cacheImplementer.set('testKeyTwo', 'Two').then(console.log); cacheImplementer.multiGet(['testKeyOne', 'testKeyTwo']).then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } });Delete cache using del:cacheImplementer.set('testKey', 'testValue').then(console.log); cacheImplementer.del('testKey').then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } });Manage counters in cache using increment and decrement:cacheImplementer.set('testCounterKey', 1).then(console.log); cacheImplementer.increment('testCounterKey', 10).then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } }); cacheImplementer.decrement('testCounterKey', 5).then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } });Change the cache expiry time using touch:cacheImplementer.set('testKey', &quot;testData&quot;).then(console.log); cacheImplementer.touch('testKey', 10).then(function(cacheResponse){ if (cacheResponse.isSuccess()) { console.log(cacheResponse.data.response); } else { console.log(cacheResponse); } });For further implementation details, please refer to the API documentation. × Search results Close "},"Cache.html":{"id":"Cache.html","title":"Class: Cache","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Class: Cache Cache new Cache() Depending on cacheEngine variable, the preferred caching engine is picked. This module acts as a wrapper / factory for the cache layer. Following are the actual implementations of the cache layer methods: Memcached implementation - ref: module:lib/cache/memcached Redis implementation - ref: module:lib/cache/redis In Memory implementation - ref: module:lib/cache/in_memory Class: Cache Cache new Cache(cacheEngine, isConsistentBehaviour) Constructor for Cache Engine Parameters: Name Type Description cacheEngine string Specify the cache engine. Possible values: 'redis', 'memcached', 'none' isConsistentBehaviour boolean Specify if the cache behaviour need to be consistent across all the engines or not. Default is: True × Search results Close "},"module-lib_cache_in_memory.html":{"id":"module-lib_cache_in_memory.html","title":"Module: lib/cache/in_memory","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Module: lib/cache/in_memory Implementation of the caching layer using in-process memory. NOTE: This should only be used for dev env having only one worker process, otherwise this will result in inconsistent cache. Classes inMemoryCache × Search results Close "},"module-lib_cache_in_memory-inMemoryCache.html":{"id":"module-lib_cache_in_memory-inMemoryCache.html","title":"Class: inMemoryCache","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Class: inMemoryCache lib/cache/in_memory~ inMemoryCache new inMemoryCache(isConsistentBehaviour) Constructor to manage cache in memory. Parameters: Name Type Description isConsistentBehaviour boolean specifies if the cache behaviour be consistent accross all cache engines Methods _getRecord(key) Internal method to get record Object for a given key Parameters: Name Type Description key string cache key decrement(key, byValue) Decrement the numeric value for the given key, if key already exists. Parameters: Name Type Description key string cache key byValue integer number by which cache need to be decremented. Default: 1 Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; del(key) Delete the key from cache Parameters: Name Type Description key string cache key Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; get(key) Get the cached value of a key. Parameters: Name Type Description key string cache key Returns: - On success, data.value has value. On failure, error details returned. Type Promise.&lt;Result&gt; getObject(key) Get the stored object value for the given key. Parameters: Name Type Description key string cache key Returns: - On success, data.value has value. On failure, error details returned. Type Promise.&lt;Result&gt; increment(key, byValue) Increment the numeric value for the given key, if key already exists. Parameters: Name Type Description key string cache key byValue integer number by which cache need to be incremented. Default: 1 Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; multiGet(keys) Get the values of specified keys. Parameters: Name Type Description keys array cache keys Returns: - On success, data.value is object of keys and values. On failure, error details returned. Type Promise.&lt;Result&gt; set(key, value [, ttl]) Set a new key value or update the existing key value in cache Parameters: Name Type Argument Description key string cache key value mixed data to be cached ttl number &lt;optional&gt; cache expiry in seconds. default: DEFAULT_TTL Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; setObject(key, object [, ttl]) Cache object in cache Parameters: Name Type Argument Description key string cache key object mixed object to be cached ttl number &lt;optional&gt; cache expiry in seconds. default: DEFAULT_TTL Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; touch(key, lifetime) Change the expiry time of an existing cache key Parameters: Name Type Description key string cache key lifetime integer new cache expiry in number of seconds Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; × Search results Close "},"module-lib_cache_memcached.html":{"id":"module-lib_cache_memcached.html","title":"Module: lib/cache/memcached","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Module: lib/cache/memcached Implementation of the caching layer using Memcached. Classes memcachedCache × Search results Close "},"module-lib_cache_memcached-memcachedCache.html":{"id":"module-lib_cache_memcached-memcachedCache.html","title":"Class: memcachedCache","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Class: memcachedCache lib/cache/memcached~ memcachedCache new memcachedCache(isConsistentBehaviour) Constructor for memcached implementation Parameters: Name Type Description isConsistentBehaviour boolean specifies if the cache behaviour be consistent accross all cache engines Methods decrement(key, byValue) Decrement the numeric value for the given key, if key already exists. Parameters: Name Type Description key string cache key byValue integer number by which cache need to be decremented. Default: 1 Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; del(key) Delete the key from cache Parameters: Name Type Description key string cache key Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; get(key) Get the cached value of a key. Parameters: Name Type Description key string cache key Returns: - On success, data.value has value. On failure, error details returned. Type Promise.&lt;Result&gt; getObject(key) Get the stored object value for the given key. Parameters: Name Type Description key string cache key Returns: - On success, data.value has value. On failure, error details returned. Type Promise.&lt;Result&gt; increment(key, byValue) Increment the numeric value for the given key, if key already exists. Parameters: Name Type Description key string cache key byValue integer number by which cache need to be incremented. Default: 1 Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; multiGet(keys) Get the values of specified keys. Parameters: Name Type Description keys array cache keys Returns: - On success, data.value is object of keys and values. On failure, error details returned. Type Promise.&lt;Result&gt; set(key, value [, ttl]) Set a new key value or update the existing key value in cache Parameters: Name Type Argument Description key string cache key value mixed data to be cached ttl number &lt;optional&gt; cache expiry in seconds. default: DEFAULT_TTL Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; setObject(key, object [, ttl]) Cache object in cache Parameters: Name Type Argument Description key string cache key object mixed object to be cached ttl number &lt;optional&gt; cache expiry in seconds. default: DEFAULT_TTL Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; touch(key, lifetime) Change the expiry time of an existing cache key Parameters: Name Type Description key string cache key lifetime integer new cache expiry in number of seconds Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; × Search results Close "},"module-lib_cache_redis.html":{"id":"module-lib_cache_redis.html","title":"Module: lib/cache/redis","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Module: lib/cache/redis Implementation of the caching layer using Redis. A persistent Redis connection per Node js worker is maintained and this connection is singleton. Classes redisCache × Search results Close "},"module-lib_cache_redis-redisCache.html":{"id":"module-lib_cache_redis-redisCache.html","title":"Class: redisCache","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Class: redisCache lib/cache/redis~ redisCache new redisCache(isConsistentBehaviour) Constructor for redis implementation Parameters: Name Type Description isConsistentBehaviour boolean specifies if the cache behaviour be consistent accross all cache engines Methods decrement(key, byValue) Decrement the numeric value for the given key, if key already exists. Parameters: Name Type Description key string cache key byValue integer number by which cache need to be decremented. Default: 1 Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; del(key) Delete the key from cache Parameters: Name Type Description key string cache key Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; get(key) Get the cached value of a key. Parameters: Name Type Description key string cache key Returns: - On success, data.value has value. On failure, error details returned. Type Promise.&lt;Result&gt; getObject(key) Get the stored object value for the given key. Parameters: Name Type Description key string cache key Returns: - On success, data.value has value. On failure, error details returned. Type Promise.&lt;Result&gt; increment(key, byValue) Increment the numeric value for the given key, if key already exists. Parameters: Name Type Description key string cache key byValue integer number by which cache need to be incremented. Default: 1 Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; multiGet(keys) Get the values of specified keys. NOTE: Object cache retrieval is not support with multiGet. It returns null value, even if value is set in cache. Parameters: Name Type Description keys array cache keys Returns: - On success, data.value is object of keys and values. On failure, error details returned. Type Promise.&lt;Result&gt; set(key, value [, ttl]) Set a new key value or update the existing key value in cache Parameters: Name Type Argument Description key string cache key value mixed data to be cached ttl number &lt;optional&gt; cache expiry in seconds. default: DEFAULT_TTL Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; setObject(key, object) Cache object in cache Parameters: Name Type Description key string cache key object mixed object to be cached Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; touch(key, lifetime) Change the expiry time of an existing cache key Parameters: Name Type Description key string cache key lifetime integer new cache expiry in number of seconds Returns: - On success, data.value is true. On failure, error details returned. Type Promise.&lt;Result&gt; × Search results Close "},"OpenSTCacheKeys.html":{"id":"OpenSTCacheKeys.html","title":"Class: OpenSTCacheKeys","body":" OpenST Cache Modules lib/cache/in_memorylib/cache/memcachedlib/cache/redis Classes Cachelib/cache/in_memory~inMemoryCachelib/cache/memcached~memcachedCachelib/cache/redis~redisCacheOpenSTCacheKeys Class: OpenSTCacheKeys OpenSTCacheKeys OpenSTCacheKeys new OpenSTCacheKeys() This implementation is very specific to OpenST branded tokens and ST' related cache keys. Methods btBalance(chainId, btAddress, address) Get Branded Token balance cache key Parameters: Name Type Description chainId Integer Branded Token deployed on chain id btAddress String address of branded token ERC20 contract address String address whose balance cache key need to be generated Returns: Type String btDecimals(chainId, btAddress) Get Branded Token decimals cache key Parameters: Name Type Description chainId Integer Branded Token deployed on chain id btAddress String address of branded token ERC20 contract Returns: Type String btName(chainId, btAddress) Get Branded Token name cache key Parameters: Name Type Description chainId Integer Branded Token deployed on chain id btAddress String address of branded token ERC20 contract Returns: Type String btSymbol(chainId, btAddress) Get Branded Token symbol cache key Parameters: Name Type Description chainId Integer Branded Token deployed on chain id btAddress String address of branded token ERC20 contract Returns: Type String btUUID(chainId, btAddress) Get Branded Token UUID cache key Parameters: Name Type Description chainId Integer Branded Token deployed on chain id btAddress String address of branded token ERC20 contract Returns: Type String oracleExpirationHeight(chainId, address) Get price oracle expiration height cache key Parameters: Name Type Description chainId Integer Price oracle chain id address String address whose balance cache key need to be generated Returns: Type String oraclePricePoint(chainId, address) Get price oracle cache key Parameters: Name Type Description chainId Integer Price oracle chain id address String address whose balance cache key need to be generated Returns: Type String stPrimeBalance(chainId, address) Get ST' balance cache key Parameters: Name Type Description chainId Integer Branded Token deployed on chain id address String address whose balance cache key need to be generated Returns: Type String × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
